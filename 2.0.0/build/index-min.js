KISSY.add('kg/rating/2.0.0/index',["node","base"],function(S ,require, exports, module) {var e=(require("node").all,require("base")),t=".",a="",l=e.extend({initializer:function(){var e=this,l=e.get("container");if(l){var n=e.get("reason"),s=e.get("level"),r=e.get("currentCls");l.all(t+e.get("itemCls")).each(function(o,i){n[i]||(n[i]=[]),o.all("a").each(function(u,p){n[i][p]=n[i][p]||a,s[p]=s[p]||a;var c=u.attr(e.get("valueName")),g=n[i][p];u.on("click",function(a){a.halt(),o.all(t+r).removeClass(r),u.addClass(r),l.all(t+e.get("tipsCls")).hide(),o.one("input").val(c),o.one(t+e.get("resultCls")).html("<span><em>"+c+"</em> 分</span> - <strong>"+g+"</strong>"),e.fire("rating",{idx:i,score:c})}).on("mouseenter",function(a){var n=new S.Node(a.currentTarget),r=n.offset(),o=l.offset();l.all(t+e.get("popCls")).html("<span><em>"+c+"</em> 分 "+s[p]+"</span><strong>"+g+"</strong>").css({left:r.left+n.width()-o.left-100+"px",top:r.top-o.top+n.height()+"px"}).show()}).on("mouseleave",function(){l.all(t+e.get("popCls")).hide()});try{6===S.UA.ie&&u.parent().addClass(u.attr("class").split()[0])}catch(v){}})})}}},{ATTRS:{container:{setter:function(e){return S.isString(e)?S.one(e):e.offset?e:new S.Node(e)}},reason:{value:[]},level:{value:[]},tipsCls:{value:"rating-tips"},itemCls:{value:"shop-rating"},popCls:{value:"rating-pop-tip"},currentCls:{value:"current-rating"},resultCls:{value:"result"},valueName:{value:"data-star-value"}}});module.exports=l;});